<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/Html.html to edit this template
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--        <link rel="stylesheet" href="./dashboard.css">-->
        <style> 
            
            body {
                font-family: Arial, sans-serif;
                background-color: #f2f2f2;
            }
            h1 {
                color: #333;
            }
            .container {
                max-width: 900px;
                margin: 0 auto;
                padding: 40px;
                background-color: #fff;
                margin-bottom: 40px;
            }
            .button {
                padding: 10px 20px;
                background-color: #333;
                color: #fff;
                border: none;
                border-radius: 4px;
                cursor: pointer;
            }
            .appointments {
                margin-top: 20px;
                border-collapse: collapse;
                width: 100%;
            }
            .appointments th, .appointments td {
                padding: 10px;
                border-bottom: 1px solid #ddd;
                text-align: left;
            }
            .appointments th {
                background-color: #333;
                color: #fff;
                margin-bottom: 40px;
            }
            

#jobSeekerForm {
    max-width: 400px; /* Set a maximum width for the form */
    margin: 0 auto; /* Center the form horizontally */
    padding: 20px; /* Add padding for spacing */
    background-color: #fff; /* Set a background color for the form */
    border-radius: 8px; /* Add rounded corners */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Add a subtle box shadow */
}

#jobSeekerForm label {
    display: block;
    margin-bottom: 8px;
}

#jobSeekerForm input,
#jobSeekerForm select {
    width: 100%;
    padding: 10px;
    margin-bottom: 16px;
    box-sizing: border-box;
}

#jobSeekerForm button {
    width: 100%;
    padding: 10px 20px;
    background-color: #333;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}


        </style>
    </head>
    <body>
        <header>
            <h1>Job Seeker Dashboard</h1>
        </header>




        <div class="container"> 
            <h1>Job Seekers Page</h1>
            <h2>Appointment Requests</h2>
            <table class="appointments">
                <tr>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Job Seeker</th>
                    <th>Actions</th>
                </tr>
                <tr>
                    <td>2022-01-10</td>
                    <td>09:00 AM</td>
                    <td>John Smith</td>
                    <td>
                        <button class="button">Accept</button>
                        <button class="button">Reject</button>
                    </td>
                </tr>
                <tr>
                    <td>2022-01-12</td>
                    <td>03:00 PM</td>
                    <td>Jane Doe</td>
                    <td>
                        <button class="button">Accept</button>
                        <button class="button">Reject</button>
                    </td>
                </tr>
            </table>

            <h2>Schedule New Appointment</h2>
            <form>
                <label for="date">Date:</label>
                <input type="date" id="date" name="date">
                <label for="time">Time:</label>
                <input type="time" id="time" name="time">
                <label for="jobSeeker">Job Seeker:</label>
                <input type="text" id="jobSeeker" name="jobSeeker">
                <input type="submit" value="Schedule" class="button">
            </form>

            <h2>Available Consultants</h2>
            <table class="appointments" id="consultantsTable">
                <tr>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Consultant Name</th>
                    <th>Status</th>
                </tr>
            </table>

        </div>


            
  


        <form id="jobSeekerForm">
            <label for="fullName">Full Name:</label>
            <input type="text" id="fullName" name="fullName" required><br>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required><br>

            <label for="phone">Phone:</label>
            <input type="tel" id="phone" name="phone" required><br>

            <label for="consultant">Select Consultant:</label>
            <select id="consultant" name="consultant">
                <option value="consultant1">Consultant 1</option>
                <option value="consultant2">Consultant 2</option>
                <option value="consultant3">Consultant 3</option>
                <option value="consultant4">Consultant 4</option>
                <option value="consultant5">Consultant 5</option>
            </select><br>

<!--            <button type="button" onclick="submitForm()">Book Appointment</button>-->
            <button type="button">Book Appointment</button>
        </form>

        <script>
            function submitForm() {
                // Get form values
                const fullName = document.getElementById('fullName').value;
                const email = document.getElementById('email').value;
                const phone = document.getElementById('phone').value;
                const selectedConsultant = document.getElementById('consultant').value;

                // You can now send these values to your backend (Java) using AJAX or fetch API
                // For simplicity, let's log them to the console
                console.log('Full Name:', fullName);
                console.log('Email:', email);
                console.log('Phone:', phone);
                console.log('Selected Consultant:', selectedConsultant);

                // You can add logic to send this data to your Java backend and handle the response
                // For now, let's just alert a success message
                alert('Appointment booked successfully!');

            }

            function viewConsultants() {
                // Make an API request to retrieve all consultants
                fetch("http://localhost:8080/REGISTER-BACKEND/resources/student/viewConsultants", {
                    method: "GET",
                    headers: {
                        "Content-Type": "application/json",
                    },
                })
                        .then((response) => {
                            if (response.status === 200) {
                                return response.json();
                            } else {
                                throw new Error("Failed to fetch consultants");
                            }
                        })
                        .then((consultants) => {
                            // Display the consultants in the HTML table
                            displayConsultants(consultants);
                        })
                        .catch((error) => {
                            // Handle errors and display an error message
                            console.error(error);
                        });
            }

            function displayConsultants(consultants) {
                const table = document.getElementById("consultantsTable");

                // Clear existing rows
                while (table.rows.length > 1) {
                    table.deleteRow(1);
                }

                // Populate the table with fetched consultants
                consultants.forEach((consultant, index) => {
                    const row = table.insertRow(index + 1);
                    const dateCell = row.insertCell(0);
                    const timeCell = row.insertCell(1);
                    const nameCell = row.insertCell(2);
                    const statusCell = row.insertCell(3);

                    dateCell.textContent = consultant.date;
                    timeCell.textContent = consultant.time;
                    nameCell.textContent = consultant.name;
                    statusCell.textContent = "Upcoming"; // You may need to modify this based on the actual status data
                });
            }

    // Call the viewConsultants function when the page loads
            window.onload = viewConsultants;
            

        </script>



    </body>
</html>
